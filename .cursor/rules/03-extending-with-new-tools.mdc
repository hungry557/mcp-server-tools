---
description: 
globs: 
alwaysApply: false
---
# 扩展 MCP 服务器工具指南

## 添加新工具的步骤

要向 MCP 服务器添加新工具，需要完成以下步骤：

1. 在 [src/tools.ts](mdc:src/tools.ts) 中的 `ToolsClient` 类中添加新的工具方法
2. 在 [src/index.ts](mdc:src/index.ts) 中的 `ListToolsRequestSchema` 处理程序中注册新工具
3. 在 [src/index.ts](mdc:src/index.ts) 中的 `CallToolRequestSchema` 处理程序中添加新工具的处理逻辑

## 工具定义示例

在 `ListToolsRequestSchema` 处理程序中注册新工具的示例：

```typescript
{
  name: "tool_name",
  description: "Tool description",
  inputSchema: {
    type: "object",
    properties: {
      param1: {
        type: "string",
        description: "Parameter description",
      },
      // 更多参数...
    },
    required: ["param1"],
  },
}
```

## 工具实现建议

1. 在 `ToolsClient` 类中保持工具逻辑的独立性
2. 在 `CallToolRequestSchema` 处理程序中进行参数验证
3. 使用适当的错误处理来提供有意义的错误消息
4. 确保工具描述清晰，参数验证严格

